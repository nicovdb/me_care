<div class="container mt-2">
  <div>
  <% if policy(Article).new? %>
    <%= link_to "Écrire un nouvel article", new_article_path %>
  <% end %>
  </div>

  <div>
    <span class="feature-name">News</span>
  </div>

  <%= render "categories-desktop" %>

  <%= render "categories-mobile" %>

  <div class="dropdown-divider dropdown-divider-short my-5 mx-auto"></div>

  <%= render "media-types" %>

  <div class="col-12 col-md-10 offset-md-1 mt-4">
    <% @articles.each do |article| %>
      <div class="article-card">
        <div class="dropdown-divider m-3"></div>
        <div class="text-small"><%= t("article.#{article.category}") %></div>
        <h1 class="mb-0"><%= article.title %></h1>
        <div class="text-mini"><%= l(article.created_at, format:"%d %B %Y") %> - <%= article.reading_time %></div>
        <div class="d-flex">
          <% if policy(Article).edit? %>
            <%= link_to "Modifier", edit_article_path(article), class: 'text-mini' %>
          <% end %>
          <% if policy(Article).destroy? %>
            <%= link_to "Supprimer", article_path(article), method: :delete, data: {confirm: "Souhaitez-vous supprimer définitvement cet article ? Cette action est irréversible."}, class: "ml-2 text-mini" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

</div>

<div class="d-flex justify-content-center">
  <%= will_paginate @articles %>
</div>
